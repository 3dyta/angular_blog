<mat-card class="card">
  <mat-card-header class="card-header">
    <span routerLink="/posts/{{post.id}}">
      <mat-card-title>{{post.title}}</mat-card-title>
    </span>
  </mat-card-header>

  <br />
  <span *ngIf="post.postFile"><img mat-card-image src={{post.postFile}} alt="Photo"></span>
  <mat-card-content>
    <p>
      {{post.content.substring(0, post.content.length >= 500 ? 500 : null)}}
    </p>
  </mat-card-content>
  <mat-card-subtitle>{{post.datetime}}</mat-card-subtitle>
  <mat-card-actions>
    <button mat-icon-button color="accent" (click)="count()">
      <mat-icon aria-label="Example icon-button with a heart icon">favorite</mat-icon>
    </button>
    <div id="likes">{{post.likesAmount}}</div>
    <button mat-raised-button (click)="openDialog()">Dodaj komentarz</button>
  </mat-card-actions>
      <hr/>

       <mat-accordion>
          <mat-expansion-panel (opened)="panelOpenState = true"
          (closed)="panelOpenState = false">
         <mat-expansion-panel-header>
         <mat-panel-title>
           <p>
             <span matBadge="{{post.comments != null ? post.comments?.length : 0}}" matBadgeOverlap="false">
         Komentarze
             </span>
           </p> 
         </mat-panel-title>
         </mat-expansion-panel-header>  
         
            <app-post-comment-item *ngFor="let comment of post.comments" [comment]="comment">
              </app-post-comment-item>

 </mat-expansion-panel>
</mat-accordion> 